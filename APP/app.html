<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent Interface</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            height: 100vh;
            overflow: hidden;
        }

        .container {
            display: flex;
            height: 100vh;
            width: 100vw;
        }

        .sidebar {
            width: 280px;
            background: #111111;
            border-right: 1px solid #2a2a2a;
            display: flex;
            flex-direction: column;
            transition: width 0.3s ease;
        }

        .sidebar.collapsed {
            width: 60px;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #2a2a2a;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 18px;
            font-weight: 600;
            color: #ffffff;
        }

        .toggle-btn {
            background: #1a1a1a;
            border: 1px solid #2a2a2a;
            color: #888;
            cursor: pointer;
            padding: 6px 8px;
            
            transition: all 0.2s;
            font-size: 12px;
        }

        .toggle-btn:hover {
            background: #2a2a2a;
            color: #ffffff;
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 10px 0;
        }

        .sidebar-section {
            margin: 10px 0;
        }

        .section-title {
            font-size: 11px;
            font-weight: 600;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 20px;
            margin-bottom: 8px;
        }

        .sidebar.collapsed .section-title {
            display: none;
        }

        .sidebar-item {
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
            border-left: 3px solid transparent;
            font-size: 14px;
        }

        .sidebar-item:hover {
            background: #1a1a1a;
            color: #ffffff;
        }

        .sidebar-item.active {
            background: #1a1a1a;
            border-left-color: #8b5cf6;
            color: #ffffff;
        }

        .sidebar-item-icon {
            font-size: 16px;
            width: 20px;
            text-align: center;
            flex-shrink: 0;
        }

        .sidebar-item-text {
            color: #ccc;
        }

        .sidebar.collapsed .sidebar-item-text {
            display: none;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #0a0a0a;
            min-width: 0;
        }

        .header {
            padding: 20px 24px;
            border-bottom: 1px solid #2a2a2a;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left h1 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .header-left p {
            color: #888;
            font-size: 14px;
        }

        .header-right {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .btn {
            padding: 8px 16px;
          
            border: none;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #8b5cf6;
            color: white;
        }

        .btn-primary:hover {
            background: #7c3aed;
        }

        .btn-secondary {
            background: #1a1a1a;
            color: #ccc;
            border: 1px solid #2a2a2a;
        }

        .btn-secondary:hover {
            background: #2a2a2a;
            color: #fff;
        }

        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px 24px;
        }

        .message {
            margin-bottom: 20px;
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
     
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .user-avatar {
            background: #8b5cf6;
            color: white;
        }

        .agent-avatar {
            background: #1a1a1a;
            color: #888;
            border: 1px solid #2a2a2a;
        }

        .message-content {
            flex: 1;
            min-width: 0;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }

        .message-sender {
            font-size: 13px;
            font-weight: 600;
        }

        .message-time {
            font-size: 11px;
            color: #666;
        }

        .message-text {
            color: #e5e5e5;
            line-height: 1.5;
            font-size: 14px;
        }

        .tool-call {
            background: #1a1a1a;
            border: 1px solid #2a2a2a;

            padding: 12px;
            margin: 8px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
        }

        .tool-call-header {
            color: #8b5cf6;
            font-weight: 600;
            margin-bottom: 6px;
        }

        .input-area {
            padding: 20px 24px;
            border-top: 1px solid #2a2a2a;
            background: #0a0a0a;
        }

        .input-container {
            display: flex;
            gap: 12px;
            align-items: end;
        }

        .input-wrapper {
            flex: 1;
            position: relative;
        }

        .message-input {
            width: 100%;
            background: #1a1a1a;
            border: 1px solid #2a2a2a;
           
            padding: 12px 16px;
            color: #ffffff;
            font-size: 14px;
            resize: none;
            min-height: 44px;
            max-height: 120px;
            font-family: inherit;
        }

        .message-input:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.1);
        }

        .send-btn {
            padding: 10px;
            background: #8b5cf6;
            border: none;
     
            color: white;
            cursor: pointer;
            transition: all 0.2s;
            height: 44px;
            width: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .send-btn:hover {
            background: #7c3aed;
        }

        .send-btn:disabled {
            background: #2a2a2a;
            cursor: not-allowed;
        }

        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            background: #1a1a1a;
   
            font-size: 12px;
            color: #ccc;
            border: 1px solid #2a2a2a;
        }

        .status-dot {
            width: 6px;
            height: 6px;
 
            background: #10b981;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 8px 0;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
  
            background: #666;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.3;
            }
            30% {
                transform: translateY(-8px);
                opacity: 1;
            }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #2a2a2a;

        }

        ::-webkit-scrollbar-thumb:hover {
            background: #3a3a3a;
        }
    </style>
</head>
<body>
    <div id="root">
        <div style="display: flex; align-items: center; justify-content: center; height: 100vh; color: #888;">
            Loading...
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        function AIAgentInterface() {
            const [sidebarCollapsed, setSidebarCollapsed] = useState(false);
            const [messages, setMessages] = useState([
                {
                    id: 1,
                    sender: "Agent",
                    text: "Hello! I'm your AI agent. I can help you with various tasks including file management, data analysis, and automated workflows. What would you like to work on today?",
                    timestamp: new Date(),
                    type: "agent"
                }
            ]);
            const [inputValue, setInputValue] = useState("");
            const [isTyping, setIsTyping] = useState(false);
            const [activeTab, setActiveTab] = useState("chat");
            const messagesEndRef = useRef(null);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            };

            useEffect(() => {
                scrollToBottom();
            }, [messages]);

            const handleSendMessage = () => {
                if (!inputValue.trim() || isTyping) return;

                const newMessage = {
                    id: Date.now(),
                    sender: "You",
                    text: inputValue,
                    timestamp: new Date(),
                    type: "user"
                };

                setMessages(prev => [...prev, newMessage]);
                setInputValue("");
                setIsTyping(true);

                // Simulate agent response
                setTimeout(() => {
                    const responses = [
                        "I understand you're looking for help with that. Let me process your request and provide the best solution.",
                        "That's an interesting question! I'll analyze the information and get back to you with detailed insights.",
                        "I can definitely help you with that task. Let me break it down into manageable steps.",
                        "Based on your input, I'll need to run a few tool calls to gather the necessary information.",
                        "Great question! Let me search through my knowledge base and provide you with a comprehensive answer.",
                    ];

                    const agentResponse = {
                        id: Date.now() + 1,
                        sender: "Agent",
                        text: responses[Math.floor(Math.random() * responses.length)],
                        timestamp: new Date(),
                        type: "agent",
                        toolCall: Math.random() > 0.6 ? {
                            name: ["analyze_data", "search_files", "process_request", "execute_task"][Math.floor(Math.random() * 4)],
                            status: "completed",
                            result: "Operation completed successfully"
                        } : null
                    };

                    setMessages(prev => [...prev, agentResponse]);
                    setIsTyping(false);
                }, 2000);
            };

            const handleKeyPress = (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleSendMessage();
                }
            };

            const formatTime = (date) => {
                return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            };

            const sidebarItems = [
                { id: "chat", label: "Chat Interface", icon: "💬" },
                { id: "tasks", label: "Tasks & Files", icon: "📁" },
                { id: "subagents", label: "Sub Agents", icon: "🤖" },
                { id: "history", label: "Thread History", icon: "📚" },
                { id: "tools", label: "Tool Calls", icon: "🔧" }
            ];

            return (
                <div className="container">
                    <div className={`sidebar ${sidebarCollapsed ? 'collapsed' : ''}`}>
                        <div className="sidebar-header">
                            {!sidebarCollapsed && <div className="logo">AI Agent</div>}
                            <button 
                                className="toggle-btn"
                                onClick={() => setSidebarCollapsed(!sidebarCollapsed)}
                            >
                                {sidebarCollapsed ? "→" : "←"}
                            </button>
                        </div>
                        
                        <div className="sidebar-content">
                            <div className="sidebar-section">
                                <div className="section-title">Navigation</div>
                                {sidebarItems.map(item => (
                                    <div 
                                        key={item.id}
                                        className={`sidebar-item ${activeTab === item.id ? 'active' : ''}`}
                                        onClick={() => setActiveTab(item.id)}
                                    >
                                        <div className="sidebar-item-icon">{item.icon}</div>
                                        <div className="sidebar-item-text">{item.label}</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    <div className="main-content">
                        <div className="header">
                            <div className="header-left">
                                <h1>Deep Agent Interface</h1>
                                <p>Enhanced AI agent with advanced capabilities</p>
                            </div>
                            <div className="header-right">
                                <div className="status-indicator">
                                    <div className="status-dot"></div>
                                    Online
                                </div>
                                <button className="btn btn-secondary">Settings</button>
                                <button className="btn btn-primary">New Session</button>
                            </div>
                        </div>

                        <div className="chat-area">
                            <div className="messages-container">
                                {messages.map(message => (
                                    <div key={message.id} className="message">
                                        <div className={`message-avatar ${message.type === 'user' ? 'user-avatar' : 'agent-avatar'}`}>
                                            {message.type === 'user' ? 'U' : 'AI'}
                                        </div>
                                        <div className="message-content">
                                            <div className="message-header">
                                                <div className="message-sender">{message.sender}</div>
                                                <div className="message-time">{formatTime(message.timestamp)}</div>
                                            </div>
                                            <div className="message-text">{message.text}</div>
                                            {message.toolCall && (
                                                <div className="tool-call">
                                                    <div className="tool-call-header">
                                                        🔧 Tool Call: {message.toolCall.name}
                                                    </div>
                                                    <div style={{color: '#ccc'}}>
                                                        Status: {message.toolCall.status}<br/>
                                                        Result: {message.toolCall.result}
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                ))}
                                
                                {isTyping && (
                                    <div className="message">
                                        <div className="message-avatar agent-avatar">AI</div>
                                        <div className="message-content">
                                            <div className="message-header">
                                                <div className="message-sender">Agent</div>
                                                <div className="message-time">typing...</div>
                                            </div>
                                            <div className="typing-indicator">
                                                <div className="typing-dot"></div>
                                                <div className="typing-dot"></div>
                                                <div className="typing-dot"></div>
                                            </div>
                                        </div>
                                    </div>
                                )}
                                
                                <div ref={messagesEndRef} />
                            </div>

                            <div className="input-area">
                                <div className="input-container">
                                    <div className="input-wrapper">
                                        <textarea
                                            className="message-input"
                                            placeholder="Type your message here..."
                                            value={inputValue}
                                            onChange={(e) => setInputValue(e.target.value)}
                                            onKeyPress={handleKeyPress}
                                            rows={1}
                                        />
                                    </div>
                                    <button 
                                        className="send-btn"
                                        onClick={handleSendMessage}
                                        disabled={!inputValue.trim() || isTyping}
                                    >
                                        ↗
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(AIAgentInterface));
    </script>
</body>
</html>